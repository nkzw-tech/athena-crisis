import CharacterMessage from '@deities/apollo/CharacterMessage.tsx';
import type { MapMetadata } from '@deities/apollo/MapMetadata.tsx';
import withModifiers from '@deities/athena/lib/withModifiers.tsx';
import MapData from '@deities/athena/MapData.tsx';

export const metadata: MapMetadata = {
  effects: new Map([
    [
      'GameEnd',
      new Set([
        {
          actions: [
            CharacterMessage(
              49,
              'Hahahaha! We crushed you and we will crush you again.',
              'self',
              2,
            ),
            CharacterMessage(1, 'How could we lose?', 'self', 1),
            CharacterMessage(
              3,
              "Don't worry, you can try as many times as you like.",
              'self',
              2,
            ),
          ],
          conditions: [{ type: 'GameEnd', value: 'lose' }],
        },
        {
          actions: [
            CharacterMessage(1, 'We did it!', 'self', 2),
            CharacterMessage(
              49,
              "Next time we won't make it this easy for you!",
              'opponent',
              1,
            ),
            CharacterMessage(15, 'FIRE!', 'self', 2),
            CharacterMessage(
              3,
              'If you enjoyed this, there is a lot more where this came from!',
              'self',
              2,
            ),
          ],
          conditions: [{ type: 'GameEnd', value: 'win' }],
        },
      ]),
    ],
  ]),
  name: 'Demo 2',
  tags: ['demo'],
  teamPlay: false,
};

export default withModifiers(
  MapData.createMap({
    buildings: [
      [
        4,
        1,
        {
          h: 100,
          i: 2,
          p: 1,
        },
      ],
      [
        4,
        2,
        {
          h: 100,
          i: 3,
          p: 1,
        },
      ],
      [
        11,
        4,
        {
          h: 100,
          i: 2,
          p: 2,
        },
      ],
      [
        8,
        7,
        {
          h: 100,
          i: 2,
          p: 1,
        },
      ],
      [
        3,
        7,
        {
          h: 100,
          i: 2,
          p: 1,
        },
      ],
      [
        5,
        7,
        {
          h: 100,
          i: 3,
          p: 1,
        },
      ],
      [
        10,
        1,
        {
          h: 100,
          i: 2,
          p: 2,
        },
      ],
      [
        5,
        9,
        {
          h: 100,
          i: 2,
          p: 1,
        },
      ],
      [
        10,
        7,
        {
          h: 100,
          i: 12,
          p: 2,
        },
      ],
      [
        7,
        5,
        {
          h: 100,
          i: 12,
          p: 1,
        },
      ],
      [
        10,
        9,
        {
          h: 100,
          i: 2,
          p: 1,
        },
      ],
      [
        2,
        3,
        {
          h: 100,
          i: 5,
          p: 1,
        },
      ],
      [
        13,
        1,
        {
          h: 100,
          i: 1,
          p: 2,
        },
      ],
      [
        13,
        2,
        {
          h: 100,
          i: 12,
          p: 2,
        },
      ],
      [
        3,
        1,
        {
          h: 100,
          i: 1,
          p: 1,
        },
      ],
      [
        3,
        2,
        {
          h: 100,
          i: 12,
          p: 1,
        },
      ],
      [
        12,
        1,
        {
          h: 100,
          i: 2,
          p: 2,
        },
      ],
      [
        13,
        5,
        {
          h: 100,
          i: 2,
          p: 2,
        },
      ],
      [
        12,
        2,
        {
          h: 100,
          i: 3,
          p: 2,
        },
      ],
      [
        13,
        8,
        {
          h: 100,
          i: 2,
          p: 1,
        },
      ],
      [
        3,
        4,
        {
          h: 100,
          i: 2,
          p: 1,
        },
      ],
      [
        8,
        2,
        {
          h: 100,
          i: 7,
          p: 0,
        },
      ],
    ],
    config: {
      biome: 1,
      blocklistedBuildings: [10],
      blocklistedSkills: [],
      blocklistedUnits: [4, 12, 13, 14, 16, 26, 28, 30, 31, 32],
      fog: false,
      multiplier: 1,
      seedCapital: 800,
      winConditions: [[0, 0, null]],
    },
    decorators: [
      [38, 9, 112],
      [22, 11, 110],
      [49, 25, 118],
      [51, 25, 114],
      [49, 27, 115],
      [51, 27, 116],
    ],
    map: [
      6,
      6,
      1,
      8,
      3,
      2,
      6,
      6,
      6,
      8,
      3,
      8,
      1,
      6,
      6,
      6,
      6,
      8,
      8,
      3,
      4,
      [6, 16],
      [6, 16],
      [6, 16],
      4,
      3,
      8,
      8,
      6,
      6,
      6,
      [6, 15],
      4,
      4,
      3,
      1,
      6,
      6,
      6,
      1,
      3,
      4,
      3,
      6,
      6,
      6,
      6,
      8,
      4,
      3,
      3,
      2,
      5,
      7,
      12,
      8,
      4,
      2,
      6,
      6,
      6,
      6,
      12,
      4,
      3,
      3,
      8,
      5,
      5,
      2,
      3,
      4,
      8,
      6,
      6,
      6,
      6,
      1,
      4,
      2,
      1,
      1,
      4,
      [5, 16],
      4,
      1,
      4,
      1,
      6,
      6,
      6,
      6,
      8,
      4,
      8,
      2,
      12,
      8,
      5,
      8,
      2,
      4,
      1,
      6,
      6,
      6,
      6,
      3,
      4,
      4,
      4,
      4,
      4,
      [5, 16],
      4,
      4,
      4,
      8,
      6,
      6,
      6,
      6,
      6,
      2,
      8,
      3,
      3,
      3,
      5,
      8,
      3,
      3,
      6,
      6,
      6,
      6,
      6,
      6,
      6,
      6,
      6,
      6,
      6,
      6,
      6,
      6,
      6,
      6,
      6,
      6,
    ],
    size: {
      height: 10,
      width: 15,
    },
    teams: [
      {
        id: 1,
        name: '',
        players: [
          {
            funds: 0,
            id: 1,
            skills: [],
          },
        ],
      },
      {
        id: 2,
        name: '',
        players: [
          {
            funds: 0,
            id: 2,
            skills: [],
          },
        ],
      },
    ],
    units: [
      [
        12,
        9,
        {
          a: [[1, 4]],
          g: 40,
          h: 100,
          i: 3,
          p: 1,
        },
      ],
      [
        4,
        4,
        {
          g: 50,
          h: 100,
          i: 2,
          p: 1,
        },
      ],
      [
        2,
        7,
        {
          a: [[1, 10]],
          g: 25,
          h: 100,
          i: 27,
          p: 2,
        },
      ],
      [
        11,
        6,
        {
          g: 40,
          h: 100,
          i: 16,
          p: 2,
        },
      ],
      [
        3,
        5,
        {
          a: [
            [1, 7],
            [2, 5],
          ],
          g: 50,
          h: 100,
          i: 10,
          p: 1,
        },
      ],
      [
        10,
        4,
        {
          g: 50,
          h: 100,
          i: 2,
          p: 2,
        },
      ],
      [
        5,
        2,
        {
          a: [[1, 4]],
          g: 30,
          h: 100,
          i: 15,
          p: 1,
        },
      ],
      [
        7,
        4,
        {
          a: [
            [1, 7],
            [2, 5],
          ],
          g: 50,
          h: 100,
          i: 10,
          p: 1,
        },
      ],
      [
        8,
        9,
        {
          g: 50,
          h: 100,
          i: 2,
          p: 1,
        },
      ],
      [
        10,
        9,
        {
          a: [[1, 10]],
          g: 25,
          h: 100,
          i: 37,
          p: 1,
        },
      ],
      [
        7,
        6,
        {
          a: [[1, 10]],
          g: 25,
          h: 100,
          i: 37,
          p: 2,
        },
      ],
      [
        15,
        2,
        {
          a: [[1, 10]],
          g: 25,
          h: 100,
          i: 27,
          p: 2,
        },
      ],
      [
        4,
        6,
        {
          g: 100,
          h: 100,
          i: 36,
          p: 1,
        },
      ],
      [
        4,
        8,
        {
          a: [[1, 10]],
          g: 25,
          h: 100,
          i: 37,
          p: 1,
        },
      ],
      [
        15,
        6,
        {
          a: [[1, 10]],
          g: 25,
          h: 100,
          i: 27,
          p: 2,
        },
      ],
      [
        7,
        8,
        {
          a: [[1, 6]],
          g: 60,
          h: 100,
          i: 49,
          p: 2,
        },
      ],
      [
        2,
        10,
        {
          a: [[1, 10]],
          g: 25,
          h: 100,
          i: 27,
          p: 2,
        },
      ],
      [
        12,
        6,
        {
          a: [[1, 6]],
          g: 60,
          h: 100,
          i: 49,
          p: 2,
        },
      ],
      [
        6,
        6,
        {
          g: 50,
          h: 100,
          i: 2,
          p: 1,
        },
      ],
      [
        12,
        8,
        {
          a: [[1, 10]],
          g: 25,
          h: 100,
          i: 37,
          p: 2,
        },
      ],
    ],
  }),
);
